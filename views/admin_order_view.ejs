<!DOCTYPE html>
<html>
<head>
    <title>Admin â€“ View Order</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body { background: #f4f6f9; }
        .card { border-radius: 12px; }
    </style>
</head>
<body>

<%- include("partials/header") %>

<div class="container mt-4">

    <h2 class="fw-bold mb-3">ðŸ“¦ Order #<%= order.id %></h2>

    <!-- ORDER INFO -->
    <div class="card p-3 mb-4">
        <h5>Order Details</h5>
        <p><strong>Customer:</strong> <%= order.username %></p>
        <p><strong>Email:</strong> <%= order.email %></p>
        <p><strong>Delivery Address:</strong> <%= order.delivery_address %></p>
        <p><strong>Delivery Fee:</strong> $<%= Number(order.delivery_fee).toFixed(2) %></p>
        <p><strong>Total:</strong> $<%= Number(order.total).toFixed(2) %></p>

        <a href="/admin/orders/edit/<%= order.id %>" class="btn btn-primary mt-2">Edit Order</a>
        <a href="/admin/orders/<%= order.id %>/invoice" class="btn btn-outline-secondary mt-2 ms-2">Download Invoice (PDF)</a>
        <a href="/admin/orders" class="btn btn-secondary mt-2">Back</a>
    </div>

    <!-- ITEMS -->
    <div class="card p-3">
        <h5>Items</h5>

        <table class="table table-striped text-center">
            <thead class="table-dark">
                <tr>
                    <th>Product</th>
                    <th>Qty</th>
                    <th>Price</th>
                </tr>
            </thead>

            <tbody>
            <% items.forEach(i => { %>
                <tr>
                    <td><%= i.productName %></td>
                    <td><%= i.quantity %></td>
                    <td>$<%= Number(i.price).toFixed(2) %></td>
                </tr>
            <% }) %>
            </tbody>
        </table>
    </div>

</div>

<%- include("partials/footer") %>

</body>
</html>
